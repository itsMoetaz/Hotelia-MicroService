<div class="min-h-screen bg-base-200 flex items-center justify-center p-4">
  <div class="card w-full max-w-md bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="text-2xl font-bold text-center mb-6">Créer un compte</h2>
      
      <div *ngIf="successMessage" class="alert alert-success mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
        {{ successMessage }}
      </div>
      
      <div *ngIf="errorMessage" class="alert alert-error mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
        {{ errorMessage }}
      </div>
      
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <!-- Name -->
        <div class="form-control">
          <label class="label">
            <span class="label-text">Nom complet</span>
          </label>
          <input 
            type="text" 
            formControlName="name" 
            class="input input-bordered w-full" 
            [ngClass]="{ 'input-error': submitted && f['name'].errors }"
            placeholder="Entrez votre nom complet" />
          <div *ngIf="submitted && f['name'].errors" class="text-error text-sm mt-1">
            <div *ngIf="f['name'].errors['required']">Le nom est obligatoire</div>
          </div>
        </div>
        
        <!-- Email -->
        <div class="form-control">
          <label class="label">
            <span class="label-text">Email</span>
          </label>
          <input 
            type="email" 
            formControlName="email" 
            class="input input-bordered w-full" 
            [ngClass]="{ 'input-error': submitted && f['email'].errors }"
            placeholder="Entrez votre email" />
          <div *ngIf="submitted && f['email'].errors" class="text-error text-sm mt-1">
            <div *ngIf="f['email'].errors['required']">L'email est obligatoire</div>
            <div *ngIf="f['email'].errors['email']">Veuillez entrer une adresse email valide</div>
          </div>
        </div>
        
        <!-- Phone Number -->
        <div class="form-control">
          <label class="label">
            <span class="label-text">Numéro de téléphone</span>
          </label>
          <input 
            type="tel" 
            formControlName="phone_number" 
            class="input input-bordered w-full" 
            placeholder="Entrez votre numéro de téléphone (optionnel)" />
        </div>
        
        <!-- Password -->
        <div class="form-control">
          <label class="label">
            <span class="label-text">Mot de passe</span>
          </label>
          <input 
            type="password" 
            formControlName="password" 
            class="input input-bordered w-full" 
            [ngClass]="{ 'input-error': submitted && f['password'].errors }"
            placeholder="Entrez votre mot de passe" />
          <div *ngIf="submitted && f['password'].errors" class="text-error text-sm mt-1">
            <div *ngIf="f['password'].errors['required']">Le mot de passe est obligatoire</div>
            <div *ngIf="f['password'].errors['minlength']">Le mot de passe doit contenir au moins 6 caractères</div>
          </div>
        </div>
        
        <!-- Confirm Password -->
        <div class="form-control">
          <label class="label">
            <span class="label-text">Confirmer le mot de passe</span>
          </label>
          <input 
            type="password" 
            formControlName="confirmPassword" 
            class="input input-bordered w-full" 
            [ngClass]="{ 'input-error': submitted && f['confirmPassword'].errors }"
            placeholder="Confirmez votre mot de passe" />
          <div *ngIf="submitted && f['confirmPassword'].errors" class="text-error text-sm mt-1">
            <div *ngIf="f['confirmPassword'].errors['required']">La confirmation du mot de passe est obligatoire</div>
            <div *ngIf="f['confirmPassword'].errors['passwordMismatch']">Les mots de passe ne correspondent pas</div>
          </div>
        </div>
        
        <!-- Submit Button -->
        <div class="form-control mt-6">
          <button 
            [disabled]="loading" 
            class="btn btn-primary w-full">
            <span *ngIf="loading" class="loading loading-spinner loading-sm mr-1"></span>
            S'inscrire
          </button>
        </div>
        
        <!-- Login Link -->
        <div class="text-center mt-4">
          <p>Vous avez déjà un compte ? <a routerLink="/login" class="link link-primary">Se connecter</a></p>
        </div>
      </form>
    </div>
  </div>
</div>
